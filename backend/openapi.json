{"openapi":"3.1.0","info":{"title":"Chat API","description":"API de chat en tiempo real con WebSockets, PostgreSQL y Redis","version":"1.0.0"},"paths":{"/users/":{"get":{"tags":["users"],"summary":"Get Users","description":"Obtener todos los usuarios","operationId":"get_users_users__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserResponse"},"type":"array","title":"Response Get Users Users  Get"}}}}}},"post":{"tags":["users"],"summary":"Create User","description":"Crear un nuevo usuario","operationId":"create_user_users__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}":{"get":{"tags":["users"],"summary":"Get User","description":"Obtener un usuario por ID","operationId":"get_user_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","description":"Actualizar un usuario","operationId":"update_user_users__user_id__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Eliminar un usuario","operationId":"delete_user_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/login":{"post":{"tags":["users"],"summary":"Login","description":"Autenticar un usuario","operationId":"login_users_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/online":{"get":{"tags":["users"],"summary":"Get Online Users","description":"Obtener lista de IDs de usuarios online\n\nReturns:\n    Lista de IDs de usuarios que están conectados actualmente","operationId":"get_online_users_users_online_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"integer"},"type":"array","title":"Response Get Online Users Users Online Get"}}}}}}},"/users/{user_id}/online":{"get":{"tags":["users"],"summary":"Check User Online","description":"Verificar si un usuario específico está online\n\nArgs:\n    user_id: ID del usuario a verificar\n\nReturns:\n    Diccionario con is_online y connections_count","operationId":"check_user_online_users__user_id__online_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat-rooms/":{"post":{"tags":["chat-rooms"],"summary":"Create Chat Room","description":"Crear una nueva sala de chat\n\n- **room_data**: Datos de la sala\n- **creator_id**: ID del usuario creador (query parameter) - se agregará automáticamente como participante","operationId":"create_chat_room_chat_rooms__post","parameters":[{"name":"creator_id","in":"query","required":true,"schema":{"type":"integer","title":"Creator Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRoomCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat-rooms"],"summary":"Get Chat Rooms","description":"Obtener todas las salas de chat\n\n- **is_group**: Filtrar por tipo de sala (True=grupal, False=1 a 1, None=todas)","operationId":"get_chat_rooms_chat_rooms__get","parameters":[{"name":"is_group","in":"query","required":false,"schema":{"type":"boolean","title":"Is Group"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatRoomResponse"},"title":"Response Get Chat Rooms Chat Rooms  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat-rooms/my-rooms/{user_id}":{"get":{"tags":["chat-rooms"],"summary":"Get User Rooms","description":"Obtener todas las salas donde el usuario es participante (ENDPOINT SEGURO)\n\n- **user_id**: ID del usuario","operationId":"get_user_rooms_chat_rooms_my_rooms__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatRoomResponse"},"title":"Response Get User Rooms Chat Rooms My Rooms  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat-rooms/{room_id}":{"get":{"tags":["chat-rooms"],"summary":"Get Chat Room","description":"Obtener una sala de chat por ID (VALIDACIÓN DE ACCESO)\n\n- **room_id**: ID de la sala\n- **user_id**: ID del usuario que solicita acceso (query parameter)","operationId":"get_chat_room_chat_rooms__room_id__get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["chat-rooms"],"summary":"Update Chat Room","description":"Actualizar una sala de chat (VALIDACIÓN DE ACCESO)\n\n- **room_id**: ID de la sala\n- **room_data**: Datos a actualizar\n- **user_id**: ID del usuario que solicita la actualización (query parameter)","operationId":"update_chat_room_chat_rooms__room_id__put","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRoomUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat-rooms"],"summary":"Delete Chat Room","description":"Eliminar una sala de chat (VALIDACIÓN DE ACCESO)\n\n- **room_id**: ID de la sala\n- **user_id**: ID del usuario que solicita eliminar (query parameter)","operationId":"delete_chat_room_chat_rooms__room_id__delete","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat-rooms/{room_id}/participants":{"post":{"tags":["chat-rooms"],"summary":"Add Participant","description":"Agregar un participante a una sala\n\n- **room_id**: ID de la sala\n- **user_id**: ID del usuario a agregar (query parameter)","operationId":"add_participant_chat_rooms__room_id__participants_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomParticipantResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat-rooms"],"summary":"Get Room Participants","description":"Obtener todos los participantes de una sala\n\n- **room_id**: ID de la sala","operationId":"get_room_participants_chat_rooms__room_id__participants_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoomParticipantResponse"},"title":"Response Get Room Participants Chat Rooms  Room Id  Participants Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat-rooms/{room_id}/participants/{user_id}":{"delete":{"tags":["chat-rooms"],"summary":"Remove Participant","description":"Remover un participante de una sala\n\n- **room_id**: ID de la sala\n- **user_id**: ID del usuario a remover","operationId":"remove_participant_chat_rooms__room_id__participants__user_id__delete","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/":{"post":{"tags":["messages"],"summary":"Create Message","description":"Crear un nuevo mensaje (VALIDACIÓN DE ACCESO)\n\nEl usuario debe ser participante de la sala para enviar mensajes","operationId":"create_message_messages__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["messages"],"summary":"Get Messages","description":"Obtener mensajes con filtros opcionales (VALIDACIÓN DE ACCESO)\n\n- **room_id**: Filtrar por sala específica\n- **user_id**: Filtrar por autor\n- **requesting_user_id**: Usuario que solicita (para validar acceso)\n- **include_deleted**: Incluir mensajes marcados como eliminados","operationId":"get_messages_messages__get","parameters":[{"name":"room_id","in":"query","required":false,"schema":{"type":"integer","description":"Filtrar por sala de chat","title":"Room Id"},"description":"Filtrar por sala de chat"},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","description":"Filtrar por usuario","title":"User Id"},"description":"Filtrar por usuario"},{"name":"requesting_user_id","in":"query","required":true,"schema":{"type":"integer","description":"ID del usuario que solicita (REQUERIDO para validación)","title":"Requesting User Id"},"description":"ID del usuario que solicita (REQUERIDO para validación)"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Incluir mensajes eliminados","default":false,"title":"Include Deleted"},"description":"Incluir mensajes eliminados"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"},"title":"Response Get Messages Messages  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/{message_id}":{"get":{"tags":["messages"],"summary":"Get Message","description":"Obtener un mensaje por ID (VALIDACIÓN DE ACCESO)\n\n- **message_id**: ID del mensaje\n- **requesting_user_id**: ID del usuario que solicita (query parameter)","operationId":"get_message_messages__message_id__get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}},{"name":"requesting_user_id","in":"query","required":true,"schema":{"type":"integer","title":"Requesting User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["messages"],"summary":"Update Message","description":"Actualizar el contenido de un mensaje (VALIDACIÓN DE ACCESO)\n\n- **message_id**: ID del mensaje\n- **message_data**: Nuevo contenido\n- **requesting_user_id**: ID del usuario que solicita (query parameter)","operationId":"update_message_messages__message_id__put","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}},{"name":"requesting_user_id","in":"query","required":true,"schema":{"type":"integer","title":"Requesting User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["messages"],"summary":"Delete Message","description":"Eliminar un mensaje (VALIDACIÓN DE ACCESO)\n\n- **message_id**: ID del mensaje\n- **requesting_user_id**: ID del usuario que solicita (query parameter)\n- **soft_delete=True**: Marca el mensaje como eliminado (por defecto)\n- **soft_delete=False**: Elimina permanentemente el mensaje","operationId":"delete_message_messages__message_id__delete","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}},{"name":"requesting_user_id","in":"query","required":true,"schema":{"type":"integer","title":"Requesting User Id"}},{"name":"soft_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Soft delete (marcar como eliminado) o hard delete","default":true,"title":"Soft Delete"},"description":"Soft delete (marcar como eliminado) o hard delete"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/{message_id}/restore":{"post":{"tags":["messages"],"summary":"Restore Message","description":"Restaurar un mensaje eliminado (VALIDACIÓN DE ACCESO)\n\n- **message_id**: ID del mensaje\n- **requesting_user_id**: ID del usuario que solicita (query parameter)","operationId":"restore_message_messages__message_id__restore_post","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}},{"name":"requesting_user_id","in":"query","required":true,"schema":{"type":"integer","title":"Requesting User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/messages/room/{room_id}/latest":{"get":{"tags":["messages"],"summary":"Get Latest Messages","description":"Obtener los últimos N mensajes de una sala (VALIDACIÓN DE ACCESO)\n\n- **room_id**: ID de la sala\n- **requesting_user_id**: ID del usuario que solicita (query parameter)\n- **limit**: Número de mensajes a obtener\n\nUsa caché Redis para mejor rendimiento. Si no hay caché,\nconsulta la DB y actualiza el caché.","operationId":"get_latest_messages_messages_room__room_id__latest_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"integer","title":"Room Id"}},{"name":"requesting_user_id","in":"query","required":true,"schema":{"type":"integer","title":"Requesting User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Número de mensajes recientes","default":50,"title":"Limit"},"description":"Número de mensajes recientes"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"},"title":"Response Get Latest Messages Messages Room  Room Id  Latest Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attachments/":{"post":{"tags":["attachments"],"summary":"Create Attachment","description":"Crear un nuevo adjunto","operationId":"create_attachment_attachments__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["attachments"],"summary":"Get Attachments","description":"Obtener adjuntos con filtros opcionales\n\n- **message_id**: Filtrar por mensaje específico\n- **file_type**: Filtrar por tipo de archivo","operationId":"get_attachments_attachments__get","parameters":[{"name":"message_id","in":"query","required":false,"schema":{"type":"integer","description":"Filtrar por mensaje","title":"Message Id"},"description":"Filtrar por mensaje"},{"name":"file_type","in":"query","required":false,"schema":{"type":"string","description":"Filtrar por tipo de archivo","title":"File Type"},"description":"Filtrar por tipo de archivo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AttachmentResponse"},"title":"Response Get Attachments Attachments  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attachments/{attachment_id}":{"get":{"tags":["attachments"],"summary":"Get Attachment","description":"Obtener un adjunto por ID","operationId":"get_attachment_attachments__attachment_id__get","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"integer","title":"Attachment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["attachments"],"summary":"Update Attachment","description":"Actualizar información de un adjunto","operationId":"update_attachment_attachments__attachment_id__put","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"integer","title":"Attachment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["attachments"],"summary":"Delete Attachment","description":"Eliminar un adjunto","operationId":"delete_attachment_attachments__attachment_id__delete","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"integer","title":"Attachment Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attachments/message/{message_id}/all":{"get":{"tags":["attachments"],"summary":"Get Message Attachments","description":"Obtener todos los adjuntos de un mensaje específico","operationId":"get_message_attachments_attachments_message__message_id__all_get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AttachmentResponse"},"title":"Response Get Message Attachments Attachments Message  Message Id  All Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attachments/message/{message_id}/count":{"get":{"tags":["attachments"],"summary":"Count Message Attachments","description":"Contar los adjuntos de un mensaje","operationId":"count_message_attachments_attachments_message__message_id__count_get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"integer","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Count Message Attachments Attachments Message  Message Id  Count Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attachments/stats/by-type":{"get":{"tags":["attachments"],"summary":"Get Attachments Stats By Type","description":"Obtener estadísticas de adjuntos por tipo","operationId":"get_attachments_stats_by_type_attachments_stats_by_type_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Attachments Stats By Type Attachments Stats By Type Get"}}}}}}},"/ws/stats":{"get":{"tags":["websocket"],"summary":"Get Websocket Stats","description":"Obtener estadísticas de conexiones WebSocket\n\nReturns:\n    Estadísticas de conexiones activas","operationId":"get_websocket_stats_ws_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","description":"Healthcheck endpoint que verifica:\n- API está corriendo\n- PostgreSQL está conectado\n- Redis está conectado","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/cache/stats":{"get":{"summary":"Cache Stats","description":"Obtener estadísticas del caché Redis","operationId":"cache_stats_cache_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AttachmentCreate":{"properties":{"file_url":{"type":"string","maxLength":255,"minLength":1,"title":"File Url","description":"URL o path del archivo"},"file_type":{"type":"string","maxLength":50,"minLength":1,"title":"File Type","description":"Tipo de archivo"},"message_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Message Id","description":"ID del mensaje al que pertenece"}},"type":"object","required":["file_url","file_type","message_id"],"title":"AttachmentCreate","description":"Schema para crear un adjunto"},"AttachmentResponse":{"properties":{"file_url":{"type":"string","maxLength":255,"minLength":1,"title":"File Url","description":"URL o path del archivo"},"file_type":{"type":"string","maxLength":50,"minLength":1,"title":"File Type","description":"Tipo de archivo"},"id":{"type":"integer","title":"Id"},"message_id":{"type":"integer","title":"Message Id"},"uploaded_at":{"type":"string","format":"date-time","title":"Uploaded At"}},"type":"object","required":["file_url","file_type","id","message_id","uploaded_at"],"title":"AttachmentResponse","description":"Schema de respuesta de adjunto"},"AttachmentUpdate":{"properties":{"file_url":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"File Url"},"file_type":{"anyOf":[{"type":"string","maxLength":50,"minLength":1},{"type":"null"}],"title":"File Type"}},"type":"object","title":"AttachmentUpdate","description":"Schema para actualizar un adjunto"},"ChatRoomCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Nombre de la sala"},"is_group":{"type":"boolean","title":"Is Group","description":"Indica si es chat grupal o 1 a 1","default":false}},"type":"object","required":["name"],"title":"ChatRoomCreate","description":"Schema para crear una sala de chat"},"ChatRoomResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Nombre de la sala"},"is_group":{"type":"boolean","title":"Is Group","description":"Indica si es chat grupal o 1 a 1","default":false},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","id","created_at"],"title":"ChatRoomResponse","description":"Schema de respuesta de sala de chat"},"ChatRoomUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name"},"is_group":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Group"}},"type":"object","title":"ChatRoomUpdate","description":"Schema para actualizar una sala de chat"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreate":{"properties":{"content":{"type":"string","minLength":1,"title":"Content","description":"Contenido del mensaje"},"room_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Room Id","description":"ID de la sala de chat"},"user_id":{"type":"integer","exclusiveMinimum":0.0,"title":"User Id","description":"ID del usuario autor"}},"type":"object","required":["content","room_id","user_id"],"title":"MessageCreate","description":"Schema para crear un mensaje"},"MessageResponse":{"properties":{"content":{"type":"string","minLength":1,"title":"Content","description":"Contenido del mensaje"},"id":{"type":"integer","title":"Id"},"room_id":{"type":"integer","title":"Room Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"is_deleted":{"type":"boolean","title":"Is Deleted"}},"type":"object","required":["content","id","room_id","user_id","created_at","is_deleted"],"title":"MessageResponse","description":"Schema de respuesta de mensaje"},"MessageUpdate":{"properties":{"content":{"type":"string","minLength":1,"title":"Content","description":"Nuevo contenido del mensaje"}},"type":"object","required":["content"],"title":"MessageUpdate","description":"Schema para actualizar un mensaje (solo contenido)"},"RoomParticipantResponse":{"properties":{"room_id":{"type":"integer","title":"Room Id","description":"ID de la sala"},"user_id":{"type":"integer","title":"User Id","description":"ID del usuario"},"id":{"type":"integer","title":"Id"},"joined_at":{"type":"string","format":"date-time","title":"Joined At"}},"type":"object","required":["room_id","user_id","id","joined_at"],"title":"RoomParticipantResponse","description":"Schema de respuesta de participante"},"UserCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"Nombre de usuario único"},"email":{"type":"string","format":"email","title":"Email","description":"Correo electrónico único"},"password":{"type":"string","minLength":8,"title":"Password","description":"Contraseña del usuario"}},"type":"object","required":["username","email","password"],"title":"UserCreate","description":"Schema para crear un usuario"},"UserLogin":{"properties":{"username":{"type":"string","title":"Username","description":"Nombre de usuario o email"},"password":{"type":"string","title":"Password","description":"Contraseña"}},"type":"object","required":["username","password"],"title":"UserLogin","description":"Schema para login"},"UserResponse":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"Nombre de usuario único"},"email":{"type":"string","format":"email","title":"Email","description":"Correo electrónico único"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["username","email","id","created_at","is_active"],"title":"UserResponse","description":"Schema de respuesta de usuario"},"UserUpdate":{"properties":{"username":{"anyOf":[{"type":"string","maxLength":50,"minLength":3},{"type":"null"}],"title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"password":{"anyOf":[{"type":"string","minLength":8},{"type":"null"}],"title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UserUpdate","description":"Schema para actualizar un usuario"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}